<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - MyAI Notes</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="settings-container">
        <header class="settings-header">
            <button id="backButton" class="btn-back">‚Üê Back</button>
            <h1>Settings</h1>
            <div></div>
        </header>

        <main class="settings-content">
            <section class="settings-section">
                <h2>AI Provider Settings</h2>
                <p class="settings-description">
                    Enable the AI providers you want to use. At least one provider must be enabled.
                </p>

                <div class="form-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="openaiEnabled" checked>
                        <span class="toggle-text">Enable OpenAI</span>
                    </label>
                </div>

                <div class="form-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="claudeEnabled">
                        <span class="toggle-text">Enable Claude (Anthropic)</span>
                    </label>
                </div>
            </section>

            <section class="settings-section">
                <h2>OpenAI API Key</h2>
                <p class="settings-description">
                    Your API key is stored locally in your browser and never sent to any server except OpenAI.
                    Get your API key from <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI Platform</a>.
                </p>

                <div class="form-group">
                    <label for="apiKeyInput">API Key:</label>
                    <div class="input-with-toggle">
                        <input
                            type="password"
                            id="apiKeyInput"
                            class="settings-input"
                            placeholder="sk-..."
                        >
                        <button id="toggleKeyVisibility" class="btn-icon" title="Toggle visibility">
                            üëÅÔ∏è
                        </button>
                    </div>
                </div>

                <div class="settings-actions">
                    <button id="saveKeyButton" class="btn-primary">üíæ Save Key</button>
                    <button id="clearKeyButton" class="btn-danger">üóëÔ∏è Clear Key</button>
                </div>

                <div id="keyStatus" class="status-indicator"></div>
            </section>

            <section class="settings-section">
                <h2>Claude API Key</h2>
                <p class="settings-description">
                    Your API key is stored locally in your browser and never sent to any server except Anthropic.
                    Get your API key from <a href="https://console.anthropic.com/settings/keys" target="_blank">Anthropic Console</a>.
                    After creating the key, open it in the console and enable the <strong>Browser access</strong> toggle so the Claude API accepts requests from this app.
                </p>

                <div class="form-group">
                    <label for="claudeApiKeyInput">API Key:</label>
                    <div class="input-with-toggle">
                        <input
                            type="password"
                            id="claudeApiKeyInput"
                            class="settings-input"
                            placeholder="sk-ant-..."
                        >
                        <button id="toggleClaudeKeyVisibility" class="btn-icon" title="Toggle visibility">
                            üëÅÔ∏è
                        </button>
                    </div>
                </div>

                <div class="settings-actions">
                    <button id="saveClaudeKeyButton" class="btn-primary">üíæ Save Key</button>
                    <button id="clearClaudeKeyButton" class="btn-danger">üóëÔ∏è Clear Key</button>
                </div>

                <div id="claudeKeyStatus" class="status-indicator"></div>
            </section>

            <section class="settings-section">
                <h2>Model Configuration</h2>
                <p class="settings-description">
                    Configure which models to use for expanding notes. Models are selected based on enabled providers.
                </p>

                <div class="form-group">
                    <label for="openaiModelSelect">OpenAI Model:</label>
                    <select id="openaiModelSelect" class="settings-select">
                        <option value="gpt-4o-mini">GPT-4o Mini (Recommended)</option>
                        <option value="gpt-4o">GPT-4o</option>
                        <option value="gpt-4-turbo">GPT-4 Turbo</option>
                        <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="claudeModelSelect">Claude Model:</label>
                    <select id="claudeModelSelect" class="settings-select">
                        <option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet (Recommended)</option>
                        <option value="claude-3-5-haiku-20241022">Claude 3.5 Haiku</option>
                        <option value="claude-3-opus-20240229">Claude 3 Opus</option>
                        <option value="claude-3-sonnet-20240229">Claude 3 Sonnet</option>
                        <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="temperatureSlider">Creativity (Temperature): <span id="temperatureValue">0.7</span></label>
                    <input
                        type="range"
                        id="temperatureSlider"
                        min="0"
                        max="2"
                        step="0.1"
                        value="0.7"
                        class="settings-slider"
                    >
                    <p class="slider-description">Lower = more focused, Higher = more creative</p>
                </div>

                <button id="saveModelButton" class="btn-primary">üíæ Save Model Settings</button>
            </section>

            <section class="settings-section">
                <h2>About</h2>
                <p class="settings-description">
                    <strong>MyAI Notes</strong> - A lightweight note-taking app powered by AI (OpenAI and Anthropic Claude)
                </p>
                <p class="settings-description">
                    Version: 1.1.0<br>
                    All data is stored locally in your browser.<br>
                    No data is collected or sent to any third-party servers.
                </p>
            </section>
        </main>
    </div>

    <script src="js/theme.js"></script>
    <script src="js/settings.js"></script>
</body>
</html>
